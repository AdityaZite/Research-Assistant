<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Journal Search</title>
    <link rel="stylesheet" href="/static/css/journal_search.css">
</head>

<body>
    <h1>Search Journals</h1>
    <div id="filter-container">
        <label for="quartile-filter">Best Quartile:</label>
        <select id="quartile-filter">
            <option value="">All</option>
            <option value="Q1">Q1</option>
            <option value="Q2">Q2</option>
            <option value="Q3">Q3</option>
            <option value="Q4">Q4</option>
        </select>
    </div>
    <div id="keyword-container">
        <input type="text" id="keyword-input" placeholder="Enter keyword and press Enter">
        <button id="search-btn">Search</button>
        <button id="reset-btn">Reset</button>
    </div>
    <div id="keywords-display"></div>
   
    <div id="results-container">
        <table id="results-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Rank</th>
                    <th>Open Access</th>
                    <th>Best Quartile</th>
                    <th>Country</th>
                    <th>CiteScore</th>
                    <th>H-index</th>
                    <th>Subject Area</th>
                </tr>
            </thead>
            <tbody id="results-body"></tbody>
        </table>
    </div>

    <script>
        const keywords = [];
        let Quartile = "";
        let allResults = [];

        function displayResults(data) {
            allResults = data;
            filterAndRenderResults(); 
        }

        function filterAndRenderResults() {
            const selectedQuartile = document.getElementById("quartile-filter").value;
            const resultsBody = document.getElementById("results-body");

           
            const filteredResults = selectedQuartile
                ? allResults.filter(journal => journal["Best Quartile"] === selectedQuartile)
                : allResults.slice(0,10);

            resultsBody.innerHTML = "";

            if (filteredResults.length === 0) {
                resultsBody.innerHTML = "<tr><td colspan='8'>No journals found.</td></tr>";
                return;
            }

            filteredResults.forEach(journal => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${journal.Title}</td>
                    <td>${journal.Rank}</td>
                    <td>${journal.OA}</td>
                    <td>${journal["Best Quartile"]}</td>
                    <td>${journal.Country}</td>
                    <td>${journal.CiteScore}</td>
                    <td>${journal["H-index"]}</td>
                    <td>${journal["Best Subject Area"]}</td>
                `;
                resultsBody.appendChild(row);
            });
        }
       
        document.getElementById("keyword-input").addEventListener("keydown", function (event) {
            if (event.key === "Enter" && this.value.trim() !== "") {
                console.log("key")
                keywords.push(this.value.trim());
                this.value = "";
                displayKeywords();
            }
        });

        document.getElementById("quartile-filter").addEventListener("change", function (event) {
            Quartile = this.value;
            console.log(Quartile);
        });

        function displayKeywords() {
            const display = document.getElementById("keywords-display");
            display.innerHTML = "";
            keywords.forEach((keyword, index) => {
                const span = document.createElement("span");
                span.textContent = keyword + " ";
                span.className = "keyword-item";
                span.onclick = () => removeKeyword(index);
                display.appendChild(span);
            });
        }

        function removeKeyword(index) {
            keywords.splice(index, 1);
            displayKeywords();
        }

        document.getElementById("search-btn").addEventListener("click", function () {
            fetch("/search-journal", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ keywords: keywords,Quartile:Quartile })
            })
                .then(response => response.json())
                .then(data => displayResults(data));
        });

        document.getElementById("reset-btn").addEventListener("click", function () {
            keywords.length = 0; 
            displayKeywords(); 
            document.getElementById("results-body").innerHTML = ""; // Clear results
        });
   </script>
</body>

</html>   -->



<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>PDF Q&A System</title>
    <link rel="stylesheet" href="../static/css/read.css">
</head>

<body>
    <div class="container">
        <h1>üìö PDF Question Answering System</h1>
        <form id="uploadForm">
            <label for="pdfFile">Upload a Research Paper:</label>
            <input type="file" id="pdfFile" name="pdf" required>
            <button type="submit">Upload PDF</button>
        </form>
        <p id="uploadStatus"></p>

        <div id="questionArea" style="display: none;">
            <h2>‚ùì Ask a Question</h2>
            <input type="text" id="queryInput" placeholder="Enter your question..." required>
            <button onclick="askQuestion()">Ask</button>
            <p id="answerOutput"></p>
        </div>
    </div>

    <script src="../static/js/read.js"></script>
</body>

</html> --></head>
